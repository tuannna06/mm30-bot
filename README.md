<div align="center">

<a href="https://mechmania.org"><img width="50%" src="https://github.com/MechMania-30/Wiki/blob/main/assets/mm30_logo.png" alt="MechMania 30"></a>
	
[![website](https://img.shields.io/badge/-Website-red?style=for-the-badge&logo=googlechrome&logoColor=white)](https://mechmania.org)
[![java-starterpack](https://img.shields.io/badge/-java_starterpack-orange?style=for-the-badge&logoColor=white&logo=data:image/svg%2bxml;base64,PHN2ZyBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSJ3aGl0ZSIgcm9sZT0iaW1nIiB2aWV3Qm94PSItMSAtMSAyNiAyNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+SmF2YTwvdGl0bGU+PHBhdGggc3Ryb2tlLXdpZHRoPSIwLjIiIGQ9Ik04Ljg1MSAxOC41NnMtLjkxNy41MzQuNjUzLjcxNGMxLjkwMi4yMTggMi44NzQuMTg3IDQuOTY5LS4yMTEgMCAwIC41NTIuMzQ2IDEuMzIxLjY0Ni00LjY5OSAyLjAxMy0xMC42MzMtLjExOC02Ljk0My0xLjE0OU04LjI3NiAxNS45MzNzLTEuMDI4Ljc2MS41NDIuOTI0YzIuMDMyLjIwOSAzLjYzNi4yMjcgNi40MTMtLjMwOCAwIDAgLjM4NC4zODkuOTg3LjYwMi01LjY3OSAxLjY2MS0xMi4wMDcuMTMtNy45NDItMS4yMThNMTMuMTE2IDExLjQ3NWMxLjE1OCAxLjMzMy0uMzA0IDIuNTMzLS4zMDQgMi41MzNzMi45MzktMS41MTggMS41ODktMy40MThjLTEuMjYxLTEuNzcyLTIuMjI4LTIuNjUyIDMuMDA3LTUuNjg4IDAtLjAwMS04LjIxNiAyLjA1MS00LjI5MiA2LjU3M00xOS4zMyAyMC41MDRzLjY3OS41NTktLjc0Ny45OTFjLTIuNzEyLjgyMi0xMS4yODggMS4wNjktMTMuNjY5LjAzMy0uODU2LS4zNzMuNzUtLjg5IDEuMjU0LS45OTguNTI3LS4xMTQuODI4LS4wOTMuODI4LS4wOTMtLjk1My0uNjcxLTYuMTU2IDEuMzE3LTIuNjQzIDEuODg3IDkuNTggMS41NTMgMTcuNDYyLS43IDE0Ljk3Ny0xLjgyTTkuMjkyIDEzLjIxcy00LjM2MiAxLjAzNi0xLjU0NCAxLjQxMmMxLjE4OS4xNTkgMy41NjEuMTIzIDUuNzctLjA2MiAxLjgwNi0uMTUyIDMuNjE4LS40NzcgMy42MTgtLjQ3N3MtLjYzNy4yNzItMS4wOTguNTg3Yy00LjQyOSAxLjE2NS0xMi45ODYuNjIzLTEwLjUyMi0uNTY4IDIuMDgyLTEuMDA2IDMuNzc2LS44OTIgMy43NzYtLjg5Mk0xNy4xMTYgMTcuNTg0YzQuNTAzLTIuMzQgMi40MjEtNC41ODkuOTY4LTQuMjg1LS4zNTUuMDc0LS41MTUuMTM4LS41MTUuMTM4cy4xMzItLjIwNy4zODUtLjI5N2MyLjg3NS0xLjAxMSA1LjA4NiAyLjk4MS0uOTI4IDQuNTYyIDAtLjAwMS4wNy0uMDYyLjA5LS4xMThNMTQuNDAxIDBzMi40OTQgMi40OTQtMi4zNjUgNi4zM2MtMy44OTYgMy4wNzctLjg4OCA0LjgzMi0uMDAxIDYuODM2LTIuMjc0LTIuMDUzLTMuOTQzLTMuODU4LTIuODI0LTUuNTM5IDEuNjQ0LTIuNDY5IDYuMTk3LTMuNjY1IDUuMTktNy42MjdNOS43MzQgMjMuOTI0YzQuMzIyLjI3NyAxMC45NTktLjE1MyAxMS4xMTYtMi4xOTggMCAwLS4zMDIuNzc1LTMuNTcyIDEuMzkxLTMuNjg4LjY5NC04LjIzOS42MTMtMTAuOTM3LjE2OCAwLS4wMDEuNTUzLjQ1NyAzLjM5My42MzkiLz48L3N2Zz4K)](https://github.com/MechMania-30/java-starterpack)
[![python-starterpack](https://img.shields.io/badge/-python_starterpack-yellow?style=for-the-badge&logo=python&logoColor=white)](https://github.com/MechMania-30/python-starterpack)
[![visualizer](https://img.shields.io/badge/-visualizer-green?style=for-the-badge&logoColor=white&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IndoaXRlIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiIHZpZXdCb3g9Ii0yLjIwOSAtMzQuNTgxIDE0NC43MzIgMTQ0LjczMiIgd2lkdGg9IjE0MS43MzJweCI+PHBhdGggZD0iTTg5LjY2OCwzOC43ODZjMC0xMC43NzMtOC43MzEtMTkuNTEyLTE5LjUxLTE5LjUxMlM1MC42NDYsMjguMDEsNTAuNjQ2LDM4Ljc4NmMwLDEwLjc3NCw4LjczMiwxOS41MTEsMTkuNTEyLDE5LjUxMSAgIEM4MC45MzQsNTguMjk3LDg5LjY2OCw0OS41NjEsODkuNjY4LDM4Ljc4NiBNMTI4LjM1MiwzOC43MjdjLTEzLjMxNSwxNy41OTktMzQuNDI2LDI4Ljk3Mi01OC4xOTMsMjguOTcyICAgYy0yMy43NywwLTQ0Ljg3OS0xMS4zNzMtNTguMTk0LTI4Ljk3MkMyNS4yNzksMjEuMTI5LDQ2LjM4OSw5Ljc1Niw3MC4xNTgsOS43NTZDOTMuOTI3LDkuNzU2LDExNS4wMzYsMjEuMTI5LDEyOC4zNTIsMzguNzI3ICAgIE0xNDAuMzE0LDM4Ljc2QzEyNS42NjYsMTUuNDc4LDk5LjcyNSwwLDcwLjE1OCwwUzE0LjY0OCwxNS40NzgsMCwzOC43NmMxNC42NDgsMjMuMzEyLDQwLjU5MSwzOC44MSw3MC4xNTgsMzguODEgICBTMTI1LjY2Niw2Mi4wNzIsMTQwLjMxNCwzOC43NiIvPjwvc3ZnPgo=)](https://github.com/MechMania-30/Visualizer)
[![engine](https://img.shields.io/badge/-engine-blue?style=for-the-badge&logoColor=white&logo=data:image/svg%2bxml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8dGl0bGU+TW9kaWZpZWQgR29vZ2xlIEVhcnRoIEVuZ2luZTwvdGl0bGU+CiAgPHBhdGggZmlsbD0id2hpdGUiIG1hc2s9InVybCgjY3V0b3V0LW1hc2spIiBkPSJNNy44NTMuNzE3YTEuMTkgMS4xOSAwIDAwLS42NS4xN0w0LjUzIDIuNDljLS41My4zMTctLjczMi45ODQtLjQ2NyAxLjU0M2wuOTMgMS45NThhOS4yMTcgOS4yMTcgMCAwMC0xLjc0NSAzLjA3NmwtMi4xMjQuMTM1QTEuMTk4IDEuMTk4IDAgMDAwIDEwLjM5OXYzLjExNmExLjIgMS4yIDAgMDAxLjA4NCAxLjE5NGwyLjE3MS4yMWE5LjIwNyA5LjIwNyAwIDAwMS43NDggMy4wNjZsLS45NDEgMS45ODJhMS4xOTggMS4xOTggMCAwMC40NjcgMS41NDNsMi42NzMgMS42MDNhMS4yIDEuMiAwIDAwMS42MDUtLjM0N2wxLjIyLTEuNzcxYTkuMjIgOS4yMiAwIDAwMS45NzEuMjE2Yy4wMzIgMCAuMDY0LS4wMDQuMDk2LS4wMDRhOS4yNDUgOS4yNDUgMCAwMDEuODc2LS4yMTJsMS4yMiAxLjc3YTEuMiAxLjIgMCAwMDEuNjA2LjM0OGwyLjY3My0xLjYwM2MuNTMtLjMxNy43MzItLjk4NC40NjctMS41NDNsLS45NDEtMS45ODJjLjAyMi0uMDI1LjA0OC0uMDQ5LjA3LS4wNzYuMDY2LS4wNzcuMTI1LS4xNTkuMTg4LS4yMzhhOS4yMjUgOS4yMjUgMCAwMDEuNDg0LTIuNzM2bDIuMTM4LS4xMzdBMS4xOTggMS4xOTggMCAwMDI0IDEzLjYwMXYtMy4xMTZhMS4yIDEuMiAwIDAwLTEuMDg0LTEuMTk0VjkuMjlsLTIuMTYtLjIxYTkuMTgyIDkuMTgyIDAgMDAtMS41MDEtMi43ODZjLS4wNjMtLjA4LS4xMjQtLjE2LS4xOS0uMjM4LS4wMTgtLjAyMi0uMDM5LS4wNDMtLjA1OC0uMDY1bC45My0xLjk1OGExLjE5OCAxLjE5OCAwIDAwLS40NjctMS41NDNMMTYuNzk3Ljg4N2ExLjIgMS4yIDAgMDAtMS42MDUuMzQ3TDEzLjk5IDIuOTc2YTkuMTY5IDkuMTY5IDAgMDAtMS44OTYtLjIxOWMtLjAzMyAwLS4wNjQtLjAwNC0uMDk2LS4wMDRhOS4yIDkuMiAwIDAwLTEuOTkyLjIyM0w4LjgwOCAxLjIzNGExLjIgMS4yIDAgMDAtLjk1NS0uNTE3eiIvPgogIAogIDxtYXNrIGlkPSJjdXRvdXQtbWFzayI+CiAgICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ3aGl0ZSIvPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPC9tYXNrPgo8L3N2Zz4K)](https://github.com/MechMania-30/engine)
[![wiki](https://img.shields.io/badge/-wiki-darkblue?style=for-the-badge&logoColor=white&logo=googledocs)](https://github.com/MechMania-30/wiki)
[![discord](https://img.shields.io/badge/-discord-purple?style=for-the-badge&logo=discord&logoColor=white)](https://discord.gg/pbyC6TPC33)

# MechMania Java Starterpack

Welcome to MechMania! The Java Starterpack will allow you to write a java bot to compete against others.
Two bots will be faced against each other, and then the [Engine](https://github.com/MechMania-30/engine) will run a simulation to see who wins!
After the engine runs you'll get a gamelog (a large json file) that you can use in the [Visualizer](https://github.com/MechMania-30/visualizer) to
visualize the game's progress and end result.

</div>

---

## Installation

### NPM / Node

First, you'll need [**Node**](https://nodejs.org/en/download/prebuilt-binaries). You can check if you have it installed by running:
```sh
npm --version
```

You should see:
```txt
10.8.2
```

### Java

For the starterpack, you'll need [**Oracle OpenJDK 22**](https://jdk.java.net/22/) Java installed. Other versions WILL NOT work. You can check which version you have installed by running:

```sh
java --version
```

You should see:
```txt
openjdk 22.0.2 2024-07-16
```

### Python

You'll also need [**Python 3.11+**](https://www.python.org/downloads/), which you can check by running:

```sh
python --version
```

You should see:
```txt
Python 3.12.6
```

### Git

You'll also need [**Git**](https://git-scm.com/downloads), which you can check by running:
```sh
git --version
```

You should see:
```txt
git version 2.46.0
```

Finally, in the directory you want your starterpack to be, run:
```sh
git clone https://github.com/MechMania-30/java-starterpack.git
```

### Editor

Open this in your editor of choice! 
We recommend using [IntelliJ](https://www.jetbrains.com/idea/) as you can get a free license with your @illinois.edu email, and has generally good support for Java.
You can also use VSCode, but will need to install a few extensions to get good Java support.

## Getting started

**If you haven't read the [Wiki](https://github.com/MechMania-30/wiki) yet, do that first!**
This section will explain how to program your bot, but not how the game is played!

This starterpack provides the basics for you to get started.
All the files you need to worry about editing are located in the `src/main/java/mech/mania/strategy/` directory.
You can create any files you want to break up your code, but you should keep your changes in this folder only.

We have provided an example (bad) strategy for you in `strategy/Strategy.java`. **Check it out!**

Your Strategy consists of two functions which will determine how your bot responds.
- `public Map<PlaneType, Integer> selectPlanes()`
  - This function will return the number of each plane type you would like to spawn in.
  - You can use `this.team` to determine which team you are, and choose different planes based on which side you spawn on.
  - You will return a `Map` pairing `PlaneType` to the count you want of that type.
  - For example, if you wanted 5 pigeons, you could simply do:
    ```java
    return Map.of(
      PlaneType.PIGEON, 5
    )
    ```
- `public Map<String, Double> steerInput(Map<String, Plane> planes)`
  - This function will return the steer that each plane will do for the next turn.
  - Steers are a value in between -1 and 1, inclusive, with -1 being full left, 0 being straight, and 1 being full right.
  - Each plane has a unique id which can be accessed by `plane.id`.
  - You are given a map of every alive plane, keyed by their unique id.
    Each plane has a bunch of useful properties to strategize with. (hint hint: look at the `Plane` and `PlaneStats` classes in `game/`)
  - You will return a `Map` pairing each `Plane`'s id to the steer that plane should do.

**Several useful tips:**
- Read the docs! Reading the wiki is really important as well as the rest of this README. Don't make this harder!
- All code for MechMania is open source, take advantage of that!
- We have provided several util functions in `strategy/utils.java`, feel free to use them or change them to your needs!
- You only have 2.5 seconds to make a decision for each phase!
  Note that this limit is very high, and from our testing you won't reach this unless your code is very inefficient.
- You cannot import any external libraries. While this may work locally, we cannot guarantee it will work when we battle your bots!

## Usage

We use gradle to create jars to run your java code. Jars are basically a compiled version of all of your code into a single file.

If you're on windows, you should use `./gradlew.bat`. If you're on any other platform, you should use `./gradlew`.

Building will output a jar to `build/libs/starterpack.jar`:
```sh
./gradlew build
```
or
```sh
./gradlew.bat build
```

Run the output jar:
```sh
java -jar build/libs/starterpack.jar [commands here]
```

What commands can you run? These:

### Run your bot against itself

```sh
./gradlew build
java -jar build/libs/starterpack.jar run self
```

### Run your bot as Team 0 and the computer will play Team 1

Note: the computer is a very bad bot, but this option is good if you want to test just a single instance of your starterpack at once.

```sh
./gradlew build
java -jar build/libs/starterpack.jar run computerTeam1
```

### Run your bot as Team 1 and the computer will play Team 0

```sh
./gradlew build
java -jar build/libs/starterpack.jar run computerTeam0
```

### Serve your bot to a port

You shouldn't need to do this, unless none of the other methods work.
<details>
<summary>Expand instructions</summary>

**If you have questions, please ask us!**
We will be in person and available through the [Discord](https://discord.gg/pbyC6TPC33).
The setup can be difficult, and every machine is different.
We want you to have fun!

To serve your bot to a port, you can run it like this:

```sh
./gradlew build
java -jar build/libs/starterpack.jar serve [port]
```

Where port is the port you want to serve to, like 9001 for example:

```sh
./gradlew build
java -jar build/libs/starterpack.jar serve 9001
```

To install the engine, run engine.py:
```
python engine.py
```
You should see a `engine/content/` folder.

A full setup with the engine might look like (all 3 commands in separate terminal windows):

```sh
java -jar build/libs/starterpack.jar serve 9001
java -jar build/libs/starterpack.jar serve 9002
npm start 9001 9002
```

Note: you must run the commands from within the right directories. The npm (engine) command should be run from inside `engine/content`.

</details>

## Visualizing

When the bots run, you'll see the gamelog be outputed to `logs/log_xxxx/gamelog.json`.
To visualize what happened during the game, you can use the [Visualizer](https://github.com/MechMania-30/visualizer)!

## Uploading

To install the MechMania cli, run:
```sh
npm i mm30 -g
```

Using the cli, you can upload your bot using:

```sh
./gradlew build
mm30 upload build/libs/starterpack.jar
```
